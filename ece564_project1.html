<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;👨🏼‍💻&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Implementing a Single-Layer CNN using Verilog&nbsp;|&nbsp;Yassine’s Website</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Implementing a Single-Layer CNN using Verilog">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🌄&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;👨🏼‍💻&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>

  <span class="Navbar__Delim">&centerdot;</span>
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/SantoshSrivatsan24">
    <div class="Navbar__Btn"> 🐙 <span style="margin-left: 6px;">Github</span></div>
  </a>
  <span class="Navbar__Delim">&centerdot;</span>
  <a target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/santosh-srivatsan/">
    <div class="Navbar__Btn"> 👨‍💼 <span style="margin-left: 6px;">Linkedin</span></div>
  </a>
  <span class="Navbar__Delim">&centerdot;</span>
  <a target="_blank" rel="noopener noreferrer" href="https://drive.google.com/file/d/17t9jUErAwVuILbysCV-4s7olxMz4G9Rm/view?usp=sharing">
    <div class="Navbar__Btn"> 📜 <span style="margin-left: 6px;">Resume</span></div>
  </a>
  <span class="Navbar__Delim">&centerdot;</span>
  <a href="projects.html">
    <div class="Navbar__Btn"> 💻 <span> Projects</span></div>
  </a>

      
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="home.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;👨🏼‍💻&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>Yassine’s Website</span>
        </div>
      </a>
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🌄&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">Implementing a Single-Layer CNN using Verilog</h1>
    
      <div class="DateTagBar">
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--orange">
            <a href="tag/ASIC Design.html">ASIC Design</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--brown">
            <a href="tag/ECE 564.html">ECE 564</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/1fa75552ce7181c1a279dbe9002ab7a9" class="PageRoot"><div id="https://www.notion.so/1fa75552ce71813281afcbf88c3eabb4" class="Bookmark"><a href="https://github.com/SantoshSrivatsan24/ece564_project1"><h5 class="Bookmark__Title">GitHub - SantoshSrivatsan24/ece564_project1: ECE 564 Project 1: Verilog description of the convolution Layer of a CNN</h5><p class="Bookmark__Desc">ECE 564 Project 1: Verilog description of the convolution Layer of a CNN  - GitHub - SantoshSrivatsan24/ece564_project1: ECE 564 Project 1: Verilog description of the convolution Layer of a CNN</p><p class="Bookmark__Link">https://github.com/SantoshSrivatsan24/ece564_project1</p></a></div><div id="https://www.notion.so/1fa75552ce71813daaa3c48d71af0c39" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ul id="https://www.notion.so/1fa75552ce718184b9c2e8cabba74a5a" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa75552ce718100860dfa3d80e0dc33"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Introduction</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa75552ce7181939a23d78ac3651b67"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">🧠 Design</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa75552ce7181c9b4c8d91951b7cc78"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">🔨 Implementation</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa75552ce718138a57fc4907c76b2c7"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">FSMs</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa75552ce718155af84fbf37cb7232f"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Microarchitecture</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa75552ce7181f58041e9c706a69844"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Datapath</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa75552ce7181f89e00df3e85d5cf51"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Synthesis</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa75552ce7181f2a632dd423876836d"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Results</span></span></div></a></li></ul><h2 id="https://www.notion.so/1fa75552ce718100860dfa3d80e0dc33" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1fa75552ce718100860dfa3d80e0dc33"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Introduction</span></span></h2><div id="https://www.notion.so/1fa75552ce71818c9083e365913c20f0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">The goal of this project was to design the convolution and max-pool layers of a single layer CNN.</span></span></p></div><div id="https://www.notion.so/1fa75552ce71818aba04ec53bcf30bbe" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">I watched a really nice </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.youtube.com/watch?v=8rrHTtUzyZA">YouTube video</a></span><span class="SemanticString"> to understand what exactly convolution means. In essence, convolution is an operation that takes two grids of values and combines them to produce another grid of values. The smaller grid of values is called a </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">kernel</em></span><span class="SemanticString">. And the larger grid could be an image.</span></span></p></div><div id="https://www.notion.so/1fa75552ce7181e8a21cefbea99c7377" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">A kernel is </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">convolved</em></span><span class="SemanticString"> with an input image by sliding it along the image, and multiplying and accumulating values in the kernel with the corresponding values in the input to produce a single value in the output image</span></span></p></div><div id="https://www.notion.so/1fa75552ce7181ffa4aad578dd97b3c1" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2Fa26cc74d-a6b4-4251-b04f-80b625ce9942%2FUntitled.png?width=1688&amp;table=block&amp;id=1fa75552-ce71-81ff-a4aa-d578dd97b3c1"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2Fa26cc74d-a6b4-4251-b04f-80b625ce9942%2FUntitled.png?width=1688&amp;table=block&amp;id=1fa75552-ce71-81ff-a4aa-d578dd97b3c1" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">Fig. 1: Convolution between an image </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">I</em></span><span class="SemanticString"> and a kernel </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">K</em></span></span></figcaption></figure></div><div id="https://www.notion.so/1fa75552ce7181a6b4fbe17d0f25dd21" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/1fa75552ce71819c86b4d6cf1b71fe76" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">CNNs are widely used in applications such as pattern recognition (OCR). Accelerating them with the help of an ASIC is a worthwhile investment.</span></span></p></div><h2 id="https://www.notion.so/1fa75552ce7181939a23d78ac3651b67" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1fa75552ce7181939a23d78ac3651b67"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">🧠 Design</span></span></h2><div id="https://www.notion.so/1fa75552ce71816796acf3c05c689cf1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">We were provided with three SRAMs for the inputs, weights, and outputs, and one scratchpad SRAM. </span></span></p></div><div id="https://www.notion.so/1fa75552ce71814390e7df1b2401e065" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">My approach relied on a pattern in the way input matrices are stored in the SRAM to perform </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">4 matrix multiplications simultaneously.</strong></span><span class="SemanticString"> i.e., the first element of the four input matrices is multiplied with the first kernel element. </span></span></p></div><div id="https://www.notion.so/1fa75552ce71817baca6fe8ded3ad568" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">I picked values from the input matrix based on this pattern and stored them in a temporary buffer. The </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgBlue">blue</mark></span><span class="SemanticString">, </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgGreen">green</mark></span><span class="SemanticString">, </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgOrange">orange</mark></span><span class="SemanticString">, and </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgRed">red</mark></span><span class="SemanticString"> elements correspond to the first elements of each 3x3 matrix among a set of four 3x3 matrices.</span></span></p></div><div id="https://www.notion.so/1fa75552ce71810799c2de01d7f67145" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">The idea of the kernel </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">sliding</em></span><span class="SemanticString"> over the image is emulated by </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">shifting</em></span><span class="SemanticString"> this temporary buffer every clock cycle. This also ensures that the elements of interest are always at the </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">same location.</em></span></span></p></div><div id="https://www.notion.so/1fa75552ce718131b9f0e999a66e0c2d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/1fa75552ce7181939705ca760b867ef7" class="ColumnList"><div id="https://www.notion.so/1fa75552ce718117a1c7c0e3f8f0aa90" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/1fa75552ce71814b82a1f791fd14680a" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2F33868251-7a66-44d5-ab58-e090dba95b8c%2FUntitled.jpeg?width=336&amp;table=block&amp;id=1fa75552-ce71-814b-82a1-f791fd14680a"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2F33868251-7a66-44d5-ab58-e090dba95b8c%2FUntitled.jpeg?width=336&amp;table=block&amp;id=1fa75552-ce71-814b-82a1-f791fd14680a" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">Fig. 2a: Picking a 4x4 set of values from an image to store into a buffer</span></span></figcaption></figure></div></div><div id="https://www.notion.so/1fa75552ce718159b03ec8222737e843" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/1fa75552ce718116adc7f832a1011c46" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2F35cd9d11-9439-4d3b-8347-1ebb99f3f294%2FUntitled.jpeg?width=1605&amp;table=block&amp;id=1fa75552-ce71-8116-adc7-f832a1011c46"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2F35cd9d11-9439-4d3b-8347-1ebb99f3f294%2FUntitled.jpeg?width=1605&amp;table=block&amp;id=1fa75552-ce71-8116-adc7-f832a1011c46" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">Fig. 2b: Shifting the input buffer </span></span></figcaption></figure></div></div></div><h2 id="https://www.notion.so/1fa75552ce7181c9b4c8d91951b7cc78" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1fa75552ce7181c9b4c8d91951b7cc78"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">🔨 Implementation</span></span></h2><h3 id="https://www.notion.so/1fa75552ce718138a57fc4907c76b2c7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1fa75552ce718138a57fc4907c76b2c7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">FSMs</span></span></h3><div id="https://www.notion.so/1fa75552ce71819a9d6be0b029dd0607" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">I had three major FSMs in my design:</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/1fa75552ce7181e6a790f90c4fc75ddb" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">The first was to calculate the next </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">read_address</code></span><span class="SemanticString"> for the input matrix</span></span><ol class="NumberedListWrapper"><li id="https://www.notion.so/1fa75552ce718128b4b9d834961dc9e7" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">The 4x4 values that I picked from the input matrix aren’t stored sequentially in the SRAM. The read address has to jump around and can’t simply be incremented.</span></span></li></ol></li><li id="https://www.notion.so/1fa75552ce7181a08528faadc715b4e6" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">The second FSM was to keep track of the state of the temporary buffer. </span></span><ol class="NumberedListWrapper"><li id="https://www.notion.so/1fa75552ce7181c6a960e4f29ef31894" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">The four (out of 16) inputs in this buffer that are multiplied with the weights are </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">always</em></span><span class="SemanticString"> in the same location.</span></span></li><li id="https://www.notion.so/1fa75552ce71811c8e30d14288f90a23" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">This is enforced by shifting the next set of inputs (to be multiplied with the weights) into this fixed location.</span></span></li><li id="https://www.notion.so/1fa75552ce7181ca99e5c9dfa07b8124" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">The inputs can either be shifted by 1 or 2 locations.</span></span></li><li id="https://www.notion.so/1fa75552ce7181faa92ff08b8b384e13" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">This FSM keeps track of whether to shift the buffer by 1 or 2 entries.</span></span></li><li id="https://www.notion.so/1fa75552ce7181869fa9f0376c795cc9" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">It also keeps track of the empty and full states of the buffer and indicates when multiplication is allowed (multiplication is only allowed when the buffer is full)</span></span></li></ol></li><li id="https://www.notion.so/1fa75552ce7181a2a8afeae9d85b4ad0" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">The third FSM was to keep track of when the convolution for </span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">one</em></span><span class="SemanticString"> matrix had completed</span></span><ol class="NumberedListWrapper"><li id="https://www.notion.so/1fa75552ce71819aa2fff389b40a4544" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">The input SRAM could store more than one input matrix.</span></span></li></ol></li></ol><h3 id="https://www.notion.so/1fa75552ce718155af84fbf37cb7232f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1fa75552ce718155af84fbf37cb7232f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Microarchitecture</span></span></h3><div id="https://www.notion.so/1fa75552ce7181c4883be0715b740d1c" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2F1fa8358d-2ee6-4409-aaf0-6851e11f2809%2FUntitled.jpeg?width=4495&amp;table=block&amp;id=1fa75552-ce71-81c4-883b-e0715b740d1c"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2F1fa8358d-2ee6-4409-aaf0-6851e11f2809%2FUntitled.jpeg?width=4495&amp;table=block&amp;id=1fa75552-ce71-81c4-883b-e0715b740d1c" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">Fig. 3: High-level architecture and description of data flow</span></span></figcaption></figure></div><h3 id="https://www.notion.so/1fa75552ce7181f58041e9c706a69844" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1fa75552ce7181f58041e9c706a69844"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Datapath</span></span></h3><div id="https://www.notion.so/1fa75552ce71819a864ccde4da68db93" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2F2513f927-318f-42f0-a8c3-7fcb49d4ec13%2FUntitled.jpeg?width=8085&amp;table=block&amp;id=1fa75552-ce71-819a-864c-cde4da68db93"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F759af34e-dffa-4cd0-9da7-08e911d8cdf0%2F2513f927-318f-42f0-a8c3-7fcb49d4ec13%2FUntitled.jpeg?width=8085&amp;table=block&amp;id=1fa75552-ce71-819a-864c-cde4da68db93" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">Fig. 4: Datapath</span></span></figcaption></figure></div><div id="https://www.notion.so/1fa75552ce71812e8d5ad37b5e240979" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/1fa75552ce7181f89e00df3e85d5cf51" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1fa75552ce7181f89e00df3e85d5cf51"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Synthesis</span></span></h2><div id="https://www.notion.so/1fa75552ce718175b386f1967a562e32" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">I synthesized my design using Synopsys Design Compiler. Synthesis helped me uncover pesky bugs such as unintentional latches, wired-or logic (signal driven by more than one piece of logic) and combinatorial loops in my design that may not have been caught by the Verilog compiler.</span></span></p></div><h2 id="https://www.notion.so/1fa75552ce7181f2a632dd423876836d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1fa75552ce7181f2a632dd423876836d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Results</span></span></h2><div id="https://www.notion.so/1fa75552ce71818c9190cf04195e58f8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">My design achieved a clock period of 4.8 ns and had an area of 6612.2280 </span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Math" data-latex="\mu m^2"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi><msup><mi>m</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mu m^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="SemanticString">.</span></span></p></div><div id="https://www.notion.so/1fa75552ce71818e876fcda7fe2fe68d" class="Divider"></div><div id="https://www.notion.so/1fa75552ce71812c9536f0e819befbac" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; Yassine’s Website 2019-2021</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>
